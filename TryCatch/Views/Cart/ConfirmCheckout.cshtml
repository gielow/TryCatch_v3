@model TryCatch.Models.Cart

@{
    ViewBag.Title = "Confirm checkout";
}

<h2>Cart checkout</h2>

<table class="table">
    <tr>
        <th>Description</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Total</th>
        <th></th>
    </tr>

@foreach (var item in Model.Items) {
    <tr>
        <td>@item.ArticleName</td>
        <td>@item.ArticlePrice.ToString("C")</td>
        <td>@item.Quantity</td>
        <td>@item.Total.ToString("C")</td>        
    </tr>
}
    <tr><td colspan="4"></td></tr>
    <tr>
        <th colspan="3">Sub total</th>
        <th>@Model.TotalArticles.ToString("C")</th>
    </tr>
    <tr>
        <th colspan="3">VAT</th>
        <th>@Model.TotalVAT.ToString("C")</th>
    </tr>
    <tr>
        <th colspan="3">Total</th>
        <th>@Model.Total.ToString("C")</th>
    </tr>
</table>

<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Checkout confirmation</h4>
            </div>
            <div class="modal-body">
                <p>Confirm cart checkout?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" data-dismiss="modal" onclick="javascript:window.location = '@Url.Action("Checkout", "Cart")';">Confirm</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>

<button type="button" class="btn btn-info btn-group-lg" data-toggle="modal" data-target="#myModal">Checkout</button>

@Scripts.Render("~/bundles/jquery")